---
import Base from "@/layouts/Base.astro";
import CallToAction from "@/components/sections/CallToAction.astro";
import PageHeader from "@/components/widgets/PageHeader.astro";
import LayoutWrapper from "@/components/LayoutWrapper.astro";
import { generatePaths } from "@/lib/utils/languageParser.ts";

export function getStaticPaths() {
  return generatePaths();
}

const postIndex = {
  data: {
    title: "Blog",
    settings: {
      pagination: true,
      posts_per_page: 6
    }
  }
};
---

<Base {...postIndex.data} fitToScreen={false}>
  <LayoutWrapper
    pageType="list"
    contentList={{
      options: {
        content: "blog", // Trigger Strapi fetch
        ...postIndex.data.settings
      },
      pagination: { enable: true, currentPage: 1 }
    }}
    content={postIndex.data}
  />
  <CallToAction />
</Base>